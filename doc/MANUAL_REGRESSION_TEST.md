# 手動回帰テスト手順書

## 概要
このドキュメントは、プレビュー画面からのエクスポート機能に関する回帰テストを手動で実行する手順を説明します。

## テスト対象
- プレビュー画面をアクティブにした状態でのエクスポート機能
- WebViewがアクティブな時のエクスポート処理
- 複数ファイルの切り替え時の正しいファイルエクスポート

## 前提条件
1. VS Codeがインストールされている
2. TextUI Designer拡張がインストールされている
3. `manual-test.tui.yml`ファイルが存在する

## テスト手順

### 1. 基本的なエクスポート機能テスト

#### 手順
1. VS Codeを開く
2. `manual-test.tui.yml`ファイルを開く
3. コマンドパレット（`Ctrl+Shift+P`）を開く
4. `TextUI: Open Preview`を実行
5. プレビュー画面が表示されることを確認
6. コマンドパレットを開く
7. `TextUI: Export to Code`を実行
8. エクスポートが正常に実行されることを確認

#### 期待結果
- プレビュー画面が正常に表示される
- エクスポート機能が正常に動作する
- エラーメッセージが表示されない

### 2. WebViewアクティブ状態でのエクスポートテスト

#### 手順
1. 上記の手順1-5を実行
2. プレビュー画面（WebView）をクリックしてアクティブにする
3. コマンドパレットを開く
4. `TextUI: Export to Code`を実行
5. エクスポートが正常に実行されることを確認

#### 期待結果
- WebViewがアクティブな状態でもエクスポートが正常に動作する
- エラーメッセージが表示されない

### 3. 複数ファイルの切り替えテスト

#### 手順
1. `manual-test.tui.yml`を開く
2. プレビューを開く
3. 新しい`.tui.yml`ファイルを作成（例：`test2.tui.yml`）
4. 新しいファイルを開く
5. プレビューを開く
6. エクスポートを実行
7. 正しいファイル（新しいファイル）がエクスポートされることを確認

#### 期待結果
- 最後に開いたファイルが正しくエクスポートされる
- ファイルの切り替えが正常に動作する

### 4. エラーハンドリングテスト

#### 手順
1. 無効なYAMLファイルを作成
2. プレビューを開こうとする
3. エラーハンドリングが適切に動作することを確認

#### 期待結果
- 適切なエラーメッセージが表示される
- 拡張がクラッシュしない

## テスト結果の記録

### テスト日時
- 実行日時: _______________
- テスト実行者: _______________

### テスト結果
| テスト項目 | 結果 | 備考 |
|-----------|------|------|
| 基本的なエクスポート機能 | ✅/❌ | |
| WebViewアクティブ状態でのエクスポート | ✅/❌ | |
| 複数ファイルの切り替え | ✅/❌ | |
| エラーハンドリング | ✅/❌ | |

### 発見された問題
- 問題1: _______________
- 問題2: _______________

### 修正が必要な項目
- 修正項目1: _______________
- 修正項目2: _______________

## 注意事項
- テスト実行前に拡張を再読み込みすることを推奨
- エラーが発生した場合は、VS Codeの開発者ツールでログを確認
- 問題が発見された場合は、詳細な手順とエラーメッセージを記録する

## 関連ファイル
- `manual-test.tui.yml`: テスト用のYAMLファイル
- 拡張のログ: VS Codeの開発者ツールで確認可能 